{% extends "admin/base.html" %}

{% block page_title %}Paramètres{% endblock %}

{% block main_content %}
<div class="max-w-4xl">
    <form method="POST" action="{{ url_for('admin.settings') }}">
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                    <i class="fas fa-search text-blue-600"></i>
                </div>
                <div>
                    <h2 class="text-lg font-semibold text-gray-800">SEO & Référencement</h2>
                    <p class="text-sm text-gray-500">Optimisez le référencement de votre plateforme</p>
                </div>
            </div>
            
            <div class="grid gap-4">
                <div>
                    <label class="label">Titre du site</label>
                    <input type="text" name="site_title" value="{{ seo_settings.site_title }}" 
                           class="input-field" placeholder="AdScreen - Location d'écrans publicitaires">
                </div>
                <div>
                    <label class="label">Description du site</label>
                    <textarea name="site_description" rows="3" class="input-field" 
                              placeholder="Description pour les moteurs de recherche">{{ seo_settings.site_description }}</textarea>
                </div>
                <div>
                    <label class="label">Mots-clés (séparés par des virgules)</label>
                    <input type="text" name="meta_keywords" value="{{ seo_settings.meta_keywords }}" 
                           class="input-field" placeholder="écran publicitaire, location, publicité">
                </div>
                <div>
                    <label class="label">Image de partage (URL)</label>
                    <input type="url" name="og_image" value="{{ seo_settings.og_image }}" 
                           class="input-field" placeholder="https://...">
                </div>
                <div>
                    <label class="label">Google Analytics ID</label>
                    <input type="text" name="google_analytics_id" value="{{ seo_settings.google_analytics_id }}" 
                           class="input-field" placeholder="G-XXXXXXXXXX">
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                    <i class="fas fa-percentage text-green-600"></i>
                </div>
                <div>
                    <h2 class="text-lg font-semibold text-gray-800">Monétisation</h2>
                    <p class="text-sm text-gray-500">Configurez les commissions de la plateforme</p>
                </div>
            </div>
            
            <div class="grid md:grid-cols-3 gap-4">
                <div>
                    <label class="label">Commission par défaut (%)</label>
                    <input type="number" step="0.5" name="default_commission_rate" 
                           value="{{ platform_settings.default_commission_rate }}" 
                           class="input-field" min="0" max="100">
                    <p class="text-xs text-gray-500 mt-1">Appliquée aux nouveaux établissements</p>
                </div>
                <div>
                    <label class="label">Commission minimum (%)</label>
                    <input type="number" step="0.5" name="min_commission_rate" 
                           value="{{ platform_settings.min_commission_rate }}" 
                           class="input-field" min="0" max="100">
                </div>
                <div>
                    <label class="label">Commission maximum (%)</label>
                    <input type="number" step="0.5" name="max_commission_rate" 
                           value="{{ platform_settings.max_commission_rate }}" 
                           class="input-field" min="0" max="100">
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                    <i class="fas fa-cog text-purple-600"></i>
                </div>
                <div>
                    <h2 class="text-lg font-semibold text-gray-800">Configuration générale</h2>
                    <p class="text-sm text-gray-500">Paramètres généraux de la plateforme</p>
                </div>
            </div>
            
            <div class="grid gap-4">
                <div>
                    <label class="label">Nom de la plateforme</label>
                    <input type="text" name="platform_name" value="{{ platform_settings.platform_name }}" 
                           class="input-field" placeholder="AdScreen">
                </div>
                <div>
                    <label class="label">Email de support</label>
                    <input type="email" name="support_email" value="{{ platform_settings.support_email }}" 
                           class="input-field" placeholder="support@adscreen.com">
                </div>
                <div class="flex items-center gap-3 pt-2">
                    <input type="checkbox" name="maintenance_mode" id="maintenance_mode" 
                           class="w-4 h-4 text-primary-600 rounded border-gray-300"
                           {% if platform_settings.maintenance_mode %}checked{% endif %}>
                    <label for="maintenance_mode" class="text-sm text-gray-700">
                        <span class="font-medium">Mode maintenance</span>
                        <span class="text-gray-500 ml-1">- Désactive temporairement l'accès à la plateforme</span>
                    </label>
                </div>
            </div>
        </div>

        <div class="flex justify-end">
            <button type="submit" class="btn-primary">
                <i class="fas fa-save mr-2"></i>
                Enregistrer les paramètres
            </button>
        </div>
    </form>
</div>
{% endblock %}
